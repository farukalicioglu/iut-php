/*-----------------------------------------------------------------------------------

 	Script - Form Validation and Send Email
 
-----------------------------------------------------------------------------------*/
(function($){
'use strict';

jQuery(window).load(function($) {	
			
	jQuery(".checkform").on("click", 'input[type="submit"]', function() {
		
		var form = jQuery(this).parents('form');
		var formAction = form.attr('action');
					
		var errors = false;
		form.find('.req').each(function(){ 
			var thisEl = jQuery(this);
			var value = thisEl.val();
			var value_select = thisEl.children(":selected").val();
			if (thisEl.attr('name') === 'email_1') {
				var re = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;
				if (!value.match(re)) {  thisEl.addClass('check-error'); 
					thisEl.parent('.form-row').addClass('check-error'); 
					errors = true; 
				} else { 
					thisEl.removeClass('check-error');
					thisEl.parent('.form-row').removeClass('check-error');
				}
			} else {
				if ( value === '' || value_select === '0' ) { 
					thisEl.addClass('check-error');
					thisEl.parent('.form-row').addClass('check-error');
					errors = true;
				} else { 
					thisEl.removeClass('check-error');
					thisEl.parent('.form-row').removeClass('check-error');
				}
			}
		}); // END each loop
		
		if (jQuery('#ddskm23m').prop('checked')===false){ //taahutname
			errors = true;
		}
		
		if (errors) { 
			// The fields have errors - The alert is shown
			form.find(".form-note").fadeIn(200);
			
			var error_texts='';
			
			form.find('.check-error').each(function(){ 
				var this_error_text=jQuery(this).attr("name");
				error_texts+=this_error_text+'';
				jQuery(".error-texts-fa").html();
				console.log(this_error_text);
			}); // END each loop
			return false;
		}
			
	});
	
	
});  // END jQuery(window).load(function($) {


})(jQuery)